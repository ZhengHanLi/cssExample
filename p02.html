<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        *{
            padding: 0;
            margin: 0;
        }

        .block{
            width: 700px;
            height: 100px;
            margin: 20px auto;
            background-color: #ffd;
        }

        .block .dropzone{
            width: 60px;
            height: 20px;
            background-color: #ff0;
            display: inline-block;
            box-sizing: border-box;

            margin: 0 10px;
        }

        .drag{
            height: 40px;
            width: 60px;
            font-size: 20px;
            /* background-color: red; */
            display: block;
            position: relative;
        }
        .dropzone .drag > .drag{
            position: absolute; 
            top: 35px;
            /* background-color: yellow; */
        }

        .c1{
            background-color: rgb(90, 88, 88);
        }

        .c2{
            background-color: rgb(141, 189, 88);
        }

        .c3{
            background-color: rgb(43, 89, 158);
        }

        .c4{
            background-color: rgb(46, 206, 179);
        }
    </style>

    <script>
        window.onload=function(){

            const suits=['S','H','D','C']
            let row_Nums=[6,6,6,6,7,7,7,7]
            let card=new Array();
            for(let suit of suits )
            {
                for( let i=1;i<=13;i++ )
                {
                    card.push({"suit":suit,"num":i})
                }
            }
            card.sort(() => Math.random() - 0.5);
            row_Nums.sort(() => Math.random() - 0.5);
            let cardlist=new Array();
            for( [index,num] of row_Nums.entries() )
            {
                cardlist[index]=card.splice(0,num)
            }
            console.log(cardlist )

            let dropzones=document.querySelectorAll(".dropzone")

            for( [index,zone] of dropzones.entries() )
            {
                let len=cardlist[index].length
                console.log(len )
                for( let i=0;i<len;i++ )
                {
                    var div = document.createElement('div');
                    div.classList.add("drag")
                    if( cardlist[index][i].suit=="S" )
                        div.classList.add("c1")
                    else if( cardlist[index][i].suit=="H" )
                        div.classList.add("c2")
                    else if( cardlist[index][i].suit=="D" )
                        div.classList.add("c3")
                    else if( cardlist[index][i].suit=="C" )
                        div.classList.add("c4")

                    div.draggable = true
                    div.textContent=""+cardlist[index][i].suit+" "+cardlist[index][i].num
                    zone.appendChild(div )
                    zone=zone.querySelector(".drag")
                }
            }

            
            var dragged;
            /* events fired on the draggable target */
            // document.addEventListener("drag", function(event) {

            // }, false);

            document.addEventListener("dragstart", function(event) {
            // store a ref. on the dragged elem
            dragged = event.target;
            // make it half transparent
            event.target.style.opacity = .5;
            }, false);

            document.addEventListener("dragend", function(event) {
            // reset the transparency
            event.target.style.opacity = "";
            }, false);

            /* events fired on the drop targets */
            document.addEventListener("dragover", function(event) {
            // prevent default to allow drop
            event.preventDefault();
            }, false);

            document.addEventListener("dragenter", function(event) {
            // highlight potential drop target when the draggable element enters it
            if (event.target.className == "dropzone") {
                event.target.style.background = "purple";
            }

            }, false);

            document.addEventListener("dragleave", function(event) {
            // reset background of potential drop target when the draggable element leaves it
            if (event.target.className == "dropzone") {
                event.target.style.background = "";
            }

            }, false);

            document.addEventListener("drop", function(event) {
            // prevent default action (open as link for some elements)
            event.preventDefault();
            // move dragged elem to the selected drop target
            if (event.target.className == "dropzone" || event.target.classList.contains("drag")) {
                event.target.style.background = "";
                dragged.parentNode.removeChild( dragged );
                event.target.appendChild( dragged );
            }
            }, false);
        }
    </script>
</head>
<body>
    
    <div class="block">
        <div class="dropzone">
            <!-- <div class="drag" draggable="true">drag div
                <div class="drag" draggable="true">drag div<div class="drag" draggable="true">drag div</div></div>
            </div> -->
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
        <div class="dropzone">
            
        </div>
    </div>
</body>
</html>